</html>

<head>
    <!-- Plotly.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- Numeric JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
</head>

<body>

    <div id="myDiv">
        <!-- Plotly chart will be drawn inside this DIV -->
    </div>
    <div id="myDiv2">
        <!-- Plotly chart will be drawn inside this DIV -->
    </div>
    <div id="myDiv3">
        <!-- Plotly chart will be drawn inside this DIV -->
    </div>
    <div id="myDiv4">
        <!-- Plotly chart will be drawn inside this DIV -->
    </div>
</body>
<script src="InlamningsUppgift2.js"></script>
<script>
    var price = [];
    var reviews = [];
    var rent = [];
    var room_type = [];
    var accommodates = [];
    for (i = 0; i < airbnbJson.length; i++) {
        price.push(airbnbJson[i].price);
        reviews.push(airbnbJson[i].reviews);
        rent.push(airbnbJson[i].price);
        accommodates.push(airbnbJson[i].accommodates);
        room_type.push(airbnbJson[i].room_type);
    }

    //pie chart

    var entireHome = airbnbJson.filter(function (room) {
        return room.room_type == "Entire home/apt"
    })

    var privateRoom = airbnbJson.filter(function (room) {
        return room.room_type == "Private room"
    })

    var sharedRoom = airbnbJson.filter(function (room) {
        return room.room_type == "Shared room"
    })

    var entireHomeProcent = (entireHome.length / airbnbJson.length) * 100;
    var privateRoomProcent = (privateRoom.length / airbnbJson.length) * 100;
    var shardRoomProcent = (sharedRoom.length / airbnbJson.length) * 100;

    roomTypePercentage = [entireHomeProcent, privateRoomProcent, shardRoomProcent];

    var data = [{
        x: reviews,
        y: price,
        mode: 'markers',
        type: 'scatter'
    }];

    var layout = {
        height: 400,
        width: 1400
    };

    var data2 = [{
        x: rent,
        type: 'histogram'
    }];

    var data3 = [{
        x: accommodates,
        type: 'histogram'
    }];

    var data4 = [{
        values: roomTypePercentage,
        labels: ['Entire home/apt', 'Private room', 'Shared room'],
        type: 'pie'
    }];
    var layout1 = {
        height: 800,
        width: 1000
    };


    Plotly.newPlot('myDiv', data, layout);
    Plotly.newPlot('myDiv2', data2, layout);
    Plotly.newPlot('myDiv3', data3, layout);
    Plotly.newPlot('myDiv4', data4, layout1);

</script>

</html>